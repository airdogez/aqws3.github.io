<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Creating a simple speedometer in UE4 &middot; Andres Revolledo</title>
        <meta name="description" content="Creating a simple speedometer in UE4 with a material">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.18" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="Creating a simple speedometer in UE4">
<meta property="og:description" content="Creating a simple speedometer in UE4 with a material">
<meta property="og:type" content="article">
<meta property="og:url" content="https://aqws3.github.io/2016/07/27/creatingaspeedometerue4/">
        <link rel="stylesheet" href="https://aqws3.github.io/dist/styles.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        
    </head>
    <body>
        

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="Aqws&#39;s Blog" href="https://aqws3.github.io/">Aqws&#39;s Blog</a>
                            </h1>
                        
                        <a class="button-square" href="https://aqws3.github.io/index.xml"><i class="fa fa-rss"></i></a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/aqws3">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                        
                        
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Blog" href="/">Blog</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Creating a simple speedometer in UE4</h1>
    
        <p class="post-description" itemprop="description">Creating a simple speedometer in UE4 with a material</p>
    
    <p class="post-date">
        <span>Published <time datetime="2016-07-27" itemprop="datePublished">Wed, Jul 27, 2016</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="https://github.com/aqws3" itemprop="url" rel="author">Andres Revolledo</a>
            </span>
        </span>
    </p>
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <h1 id="introduction">Introduction</h1>

<p>We needed a way of creating a simple visual speedometer for one of our vehicles, since the aesthetic is futuristic, we just needed a simple radial progress bar that represents the speed of the vehicle, this was our final result:</p>

<p><img src="/images/speedometer_final.png" alt="Speedometer working" /></p>

<p>For this tutorial we will just explain how the circular bar was accomplished.</p>

<h1 id="textures">Textures</h1>

<p>For the material 2 textures were needed, one that defines the final shape of the progress bar and one for the opacity mask, using Krita we just used the gradient tool with a conical shape to generate the mask and made the shape of the final bar how we wanted it, remember that black will have an opacity of 0% and white 100%. For both textures we need to set the sRGB off and tell it to not use mipmaps.</p>

<p><img src="/images/texture_config.png" alt="Texture configuration" /></p>

<p>You can get the textures here:</p>

<table>
<thead>
<tr>
<th align="center">Shape</th>
<th align="center">Mask</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><img src="/images/T_Speedometer3.png" alt="Shape" /></td>
<td align="center"><img src="/images/T_Gradient_Speedometer3.png" alt="Mask" /></td>
</tr>
</tbody>
</table>

<p>These are just some samples for this tutorial and not the ones used in the final product.</p>

<h1 id="material">Material</h1>

<p>For the material we need 2 Parameters, a Scalar <strong>Alpha</strong> that will represent the percentage of the bar and a Vector <strong>Color</strong> that will be our base color, we will be also using the Mask texture for the gradient in the color. The Material blend mode must be set to Translucent for the Opacity to work. Finally the textures Sample Type must be set to Linear Color for them to work.</p>

<p>The full material is as follows:</p>

<p><img src="/images/speedometer_material.png" alt="Speedometer Material" /></p>

<h1 id="blueprint">Blueprint</h1>

<p>To use the material we will have to apply it to a simple plane mesh included with UE4 and create the material dynamically, for this we will have to create a static mesh in our Blueprint, assign it the mesh, we can assign it the material right now to preview it but will be overriding it later in the Begin play node.</p>

<p>In the Begin node of the blueprint we will initialize the Material and the Color, we will need a variable that will hold the dynamic material reference:</p>

<p><img src="/images/speedometer_beginplay.png" alt="Speedometer Begin Play" /></p>

<p>Now we need something to update the <strong>Alpha</strong> parameter of the material, because this is a vehicle we will use the ratio between the speed and max speed of the vehicle, we will also introduce small random float that will simulate the error in the speedometer visualization. Now just set the final value to the Scalar Parameter Value Node of your dynamic material in the Event Tick.</p>

<p><img src="/images/speedometer_eventtick.png" alt="Speedometer Event Tick" /></p>

<h1 id="final-thoughts">Final thoughts</h1>

<p>Applying the material to a static mesh might not be the best solution for this simple effect, using a Material Billboard might be more suitable for this case, but we didn&rsquo;t want it to always face the camera. We also didn&rsquo;t use a widget for this UI element because we needed the Emissive Color from the material to give the glow effect, which wasn&rsquo;t available if the material type was set to User Interface.</p>

<p>Hopefully this helps someone else in making some HUD elements and learning how to use the materials, a lot of variations can be achieved with just changing some nodes and one can just spent a lot of time just experimenting.</p>

<h1 id="resources">Resources</h1>

<p>This material idea was based of the tutorial from Tom Looman circular progress bar tutorial, check it out:
<a href="http://www.tomlooman.com/circular-progress-bar-for-umg/">http://www.tomlooman.com/circular-progress-bar-for-umg/</a></p>
</div>

        <footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
            
                <a href="/tags/ue4/">UE4</a>, 
            
                <a href="/tags/material/">Material</a>, 
            
                <a href="/tags/blueprint/">Blueprint</a>, 
            
                <a href="/tags/krita/">Krita</a>
            
        </p>
    

    <div class="share">
        <a class="icon-twitter" href="https://twitter.com/share?text=Creating%20a%20simple%20speedometer%20in%20UE4&url=https%3a%2f%2faqws3.github.io%2f2016%2f07%2f27%2fcreatingaspeedometerue4%2f"
            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
            <i class="fa fa-twitter"></i>
            <span class="hidden">Twitter</span>
        </a>

        <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2faqws3.github.io%2f2016%2f07%2f27%2fcreatingaspeedometerue4%2f"
            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
            <i class="fa fa-facebook"></i>
            <span class="hidden">Facebook</span>
        </a>

        <a class="icon-google-plus" href="https://plus.google.com/share?url=https%3a%2f%2faqws3.github.io%2f2016%2f07%2f27%2fcreatingaspeedometerue4%2f"
           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
           <i class="fa fa-google-plus"></i>
            <span class="hidden">Google+</span>
        </a>
    </div>
</footer>

        
    <div class="comments">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'airdogezblog';
    var disqus_identifier = 'https:\/\/aqws3.github.io\/2016\/07\/27\/creatingaspeedometerue4\/';
    var disqus_title = 'Creating a simple speedometer in UE4';
    var disqus_url = 'https:\/\/aqws3.github.io\/2016\/07\/27\/creatingaspeedometerue4\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="Aqws&#39;s Blog" href="https://aqws3.github.io/">Aqws&#39;s Blog</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2016 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="https://aqws3.github.io/js/jquery-1.11.3.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
        <script src="https://aqws3.github.io/js/jquery.fitvids.js"></script>
        <script src="https://aqws3.github.io/js/scripts.js"></script>
    </body>
</html>

